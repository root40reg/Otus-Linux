# 35. Мосты, туннели и VPN 
## Описание домашнего задания:
Создать домашнюю сетевую лабораторию. Научится настраивать VPN-сервер в Linux-based системах.

Что нужно сделать?

1) Настроить VPN между двумя ВМ в tun/tap режимах, замерить скорость в туннелях, сделать вывод об отличающихся показателях

2) Поднять RAS на базе OpenVPN с клиентскими сертификатами, подключиться с локальной машины на ВМ

Для выполнения домашнего задания используйте [методичку](https://docs.google.com/document/d/1tJjZQzVccj0UoRlVLa-E-uxQtQDOCuW_sAk2nluiFo4/edit)


Замеряем скорость в туннеле: 

На хосте 1 запускаем iperf3 в режиме сервера: ```iperf3 -s &```

На хосте 2 запускаем iperf3 в режиме клиента и замеряем  скорость в туннеле: ```iperf3 -c 10.10.10.1 -t 40 -i 5```

Далее меняем параметр в файле ```/etc/openvpn/server.conf```  с ```dev tap```на ```dev tun``` и перезапускаем службу ```systemctl restart openvpn@server```

TAP

![image](https://github.com/root40reg/Otus-Linux/assets/132127335/501a471b-2dfa-4da8-90bf-f9488b457079)

TUN

![image](https://github.com/root40reg/Otus-Linux/assets/132127335/3d4dbc0f-921c-4c29-954c-cb1926041b05)

При работе через TUN идёт большее сжатие трафика, но скорость немного упала. В данном случае отличия несущественн

TAP эмулирует Ethernet-устройство и работает на канальном уровне модели OSI, оперируя кадрами Ethernet.

TUN (сетевой туннель) работает на сетевом уровне модели OSI, оперируя IP-пакетами.

TAP используется для создания сетевого моста, тогда как TUN — для маршрутизации.
